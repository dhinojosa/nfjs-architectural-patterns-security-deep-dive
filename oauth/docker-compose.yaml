services:
    keycloak:
        image: quay.io/keycloak/keycloak:latest
        environment:
            - KEYCLOAK_ADMIN=admin
            - KEYCLOAK_ADMIN_PASSWORD=admin
        command: start-dev --http-port 8082
        ports:
            - "8082:8082"

    spring-app:
        build:
            context: .
        ports:
            - "8080:8080"
        environment:
            - SPRING_PROFILES_ACTIVE=default
        depends_on:
            - keycloak
